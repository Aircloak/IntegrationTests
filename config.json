{
  "email_to": "everyone-dev@aircloak.com",
  "email_from": "everyone-dev@aircloak.com",
  "email_server": "localhost",
  "email_port": 25,
  "tests": {
    "generic": [
      {
        "datasource": "newcloak/newcloak-games-and-players@airdb.mpi-sws.org",
        "query": "SELECT winpoints, COUNT(firstname) FROM players JOIN games ON players.uid = games.player WHERE firstname = 'Ryker' GROUP BY winpoints ORDER BY winpoints",
        "timeout": 30,
        "expects": [[56, 3], [61, 4], [62, 3], [64, 3], ["*", 56]],
        "real_result": [[56, 7], [61, 9], [62, 8], [64, 7], ["*", 85]],
        "users": [5, 6, 5, 5, 11]
      },
      {
        "datasource": "newcloak/newcloak-games-and-players@airdb.mpi-sws.org",
        "query": "SELECT SUM(winpoints) FROM players INNER JOIN games ON players.uid = games.player WHERE age < 18",
        "timeout": 30,
        "expects": [[8180]],
        "real_result": [[9514]],
        "users": [17]
      },
      {
        "datasource": "nyctaxi/nyctaxi@stage-airdb.mpi-sws.org",
        "query": "SELECT COUNT(trip_time_in_secs), AVG(trip_time_in_secs), STDDEV(trip_time_in_secs) FROM trips WHERE passenger_count >= 7",
        "timeout": 30,
        "expects": [[82, 363.488, 583.733]],
        "real_result": [[102, 434.284, 571.950]],
        "users": [53]
      },
      {
        "datasource": "nyctaxi/nyctaxi@stage-airdb.mpi-sws.org",
        "query": "SELECT passenger_count AS pc, COUNT(*) FROM trips WHERE passenger_count IN (7,8,9,10) GROUP BY pc ORDER BY pc",
        "timeout": 30,
        "expects": [[7, 26], [8, 19], [9, 16]],
        "real_result": [[7, 35], [8, 25], [9, 26]],
        "users": [46]
      },
      {
        "datasource": "nyctaxi/nyctaxi@stage-airdb.mpi-sws.org",
        "query": "SELECT COUNT(DISTINCT passenger_count) FROM trips WHERE trip_time_in_secs > 5000",
        "timeout": 600,
        "expects": [[8]],
        "real_result": [[7]],
        "users": [12798]
      },
      {
        "datasource": "nyctaxi/nyctaxi@stage-airdb.mpi-sws.org",
        "query": "SELECT COUNT(*) FROM trips WHERE trip_time_in_secs > 2500 AND passenger_count <> 4",
        "timeout": 900,
        "expects": [[2729316]],
        "real_result": [[2729328]],
        "users": [13562]
      },
      {
        "datasource": "nyctaxi/nyctaxi@stage-airdb.mpi-sws.org",
        "query": "SELECT MIN(passenger_count), MAX(passenger_count), MEDIAN(passenger_count), SUM(passenger_count) FROM trips WHERE trip_time_in_secs < 60",
        "timeout": 900,
        "expects": [[0, 9, 1, 1465618]],
        "real_result": [[0, 208, 1, 14709009]],
        "users": [14056]
      }
    ],
    "stage": [
      {
        "datasource": "dsproxy/med@stage_ds_proxy",
        "query": "SELECT COUNT(status) FROM pt_mail",
        "timeout": 30,
        "expects": [[3577]]
      },
      {
        "datasource": "dsproxy/med@stage_ds_proxy",
        "query": "SELECT age, count(*) FROM (SELECT datediff(year, date_of_birth, getdate()) AS age FROM patients WHERE firstname = 'Ana') AS t GROUP BY age ORDER BY age ASC ",
        "timeout": 30,
        "expects": [["*", 25]]
      },
      {
        "datasource": "dsproxy/med@stage_ds_proxy",
        "query": "SELECT diagnosis, count(*) FROM (SELECT d.patient_id, k.keyword as diagnosis FROM pt_diagnoses d JOIN diagnosis_keywords k ON d.code = k.code WHERE k.keyword = 'cancer' GROUP BY d.patient_id, k.keyword) t GROUP BY diagnosis",
        "timeout": 30,
        "expects": [["cancer", 254]]
      }
    ],
    "production": [
      {
        "datasource": "med/med@dsproxy",
        "query": "SELECT COUNT(status) FROM pt_mail",
        "timeout": 30,
        "expects": [[3577]]
      },
      {
        "datasource": "med/med@dsproxy",
        "query": "SELECT age, count(*) FROM (SELECT datediff(year, date_of_birth, getdate()) AS age FROM patients WHERE firstname = 'Ana') AS t GROUP BY age ORDER BY age ASC ",
        "timeout": 30,
        "expects": [["*", 25]]
      },
      {
        "datasource": "med/med@dsproxy",
        "query": "SELECT diagnosis, count(*) FROM (SELECT d.patient_id, k.keyword as diagnosis FROM pt_diagnoses d JOIN diagnosis_keywords k ON d.code = k.code WHERE k.keyword = 'cancer' GROUP BY d.patient_id, k.keyword) t GROUP BY diagnosis",
        "timeout": 30,
        "expects": [["cancer", 254]]
      }
    ]
  },
  "cloaks": [
    {
      "url": "insights-stage.aircloak.com",
      "token": "SFMyNTY.g3QAAAACZAAEZGF0YW0AAAAkNzg0NWExMjktNTBjYS00ODA3LTgzN2UtYmYyYjAyNzBjNzJlZAAGc2lnbmVkbgYAaGokBVcB.wbJAqKP3jRVNUwUnxybIjgZ1Q2zbA2DIU-NKFO907_k",
      "tests": ["stage", "generic"]
    },
    {
      "url": "insights.aircloak.com",
      "token": "g3QAAAACZAAEZGF0YW0AAAAkMmUwYTVkMTgtNThlYy00ZjE0LTkwNjItOTBkZjZjYzRiMGE4ZAAGc2lnbmVkbgYApejcflYB##JW3qkvLENz4JnKY6HK1vo9DzcEA=",
      "tests": ["production", "generic"]
    }
  ]
}
